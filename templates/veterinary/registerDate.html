{% extends 'layout/base.html' %}

{% block 'title' %} Registro Citas{% endblock %}

{% block 'style' %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/estilo.css' %}">
<link rel="stylesheet" href="{% static 'fullcalendar/lib/main.css' %}">
<script src={% static 'fullcalendar/lib/locales/es.js' %}></script> 
{% endblock %}

{% block 'header' %}
{% include 'layout/partials/headerbase.html' %}
{% endblock %}

{% block 'content' %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<div class="left-menu">
  <div class="column-1" >
    {% include 'layout/partials/leftmenu.html' %}
  </div>
  <div class="column-2">
    <div class="column-2-2" style="flex-grow:0;">
      <div id="calendar" class="container bg-dark" style="height:50%;">
      </div>
    </div>
  <div>
</div>
{% endblock %}

{% block 'script' %}

<script src="{% static 'fullcalendar/lib/main.js' %}"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  var calendarUI = document.getElementById('calendar');;
  var calendar = new FullCalendar.Calendar(calendarUI, {
      initialView: 'listWeek',
      editable:false,
      headerToolbar: {
        start: 'prev,next today',
        center: 'title',
        end: 'dayGridMonth,timeGridWeek,timeGridDay,listMonth'},
      views: {
        timeGrid: {
          buttonText: 'Día'
        },
        dayGridMonth: {
          buttonText: 'Mes'
        },
        timeGridWeek: {
          buttonText: 'Semana'
        },
        timeGridDay: {
          buttonText: 'Día'
        },
        listMonth: {
          buttonText: 'Lista'
        }},
      locale: 'es',
      events: [
      {%for event in events %}
      {
          title: "{{event.title}}",
          start: "{{event.start}}",
          url: "#",
      },
      {% endfor %}
          ]
      });
calendar.render();
  });
</script>
{% endblock  %}